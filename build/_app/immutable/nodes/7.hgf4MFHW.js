import"../chunks/CWj6FrbW.js";import{p as X,s as i,t as U,a as Y,i as s,l as B,c as a,n as h,r as t}from"../chunks/CLiDDy4G.js";import{s as l}from"../chunks/-N9LEa1Z.js";import{i as Z}from"../chunks/Bk_3i-m3.js";import{e as ee,i as te}from"../chunks/sSac2j2s.js";import{d as ae,t as P,a as w}from"../chunks/BfUvHYsx.js";import{s as se}from"../chunks/DVgWZJ-R.js";import{s as re,a as oe}from"../chunks/1pxCPx5e.js";import{o as ie}from"../chunks/BRficqL3.js";import{P as ne}from"../chunks/DXucOirp.js";import{g as $}from"../chunks/BkuGP4LS.js";import{s as le}from"../chunks/DuGVQR-m.js";const de=()=>{const n=le;return{page:{subscribe:n.page.subscribe},navigating:{subscribe:n.navigating.subscribe},updated:n.updated}},pe={subscribe(n){return de().page.subscribe(n)}};var ce=P('<span class="text-sm px-3 py-1 bg-gray-200 dark:bg-gray-900 text-gray-800 dark:text-gray-100 rounded-full"> </span>'),ge=P('<div class="flex flex-wrap gap-2"></div>'),ve=P('<div class="min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-950 transition-colors duration-300 px-4"><div class="max-w-2xl w-full bg-white dark:bg-gray-800 p-6 rounded-2xl shadow-lg transition-all duration-300"><div class="flex justify-between items-start mb-4"><h1 class="text-2xl font-bold text-gray-900 dark:text-white break-words"> </h1> <div class="flex gap-2 items-center"><div class="flex items-center gap-1 text-gray-700 dark:text-gray-300 text-sm px-2 py-1.5 rounded-full bg-gray-100 dark:bg-gray-900">👁️ <span> </span></div> <button>❤️ <span class="text-sm font-medium"> </span></button></div></div> <div class="text-gray-800 dark:text-gray-100 leading-relaxed mb-6 whitespace-pre-wrap break-words overflow-wrap-break"> </div> <!> <div class="text-sm text-gray-600 dark:text-gray-400 mt-4">Posted by <span class="font-medium text-gray-800 dark:text-gray-200"> </span> on <span class="text-gray-700 dark:text-gray-300"> </span></div></div></div>');function Se(n,S){X(S,!0);const[D,N]=re(),E=()=>oe(pe,"$page",D);let c=ne,r=B(""),g="",d=B(!1),p;ie(async()=>{var e,o;p=(o=(e=E().url)==null?void 0:e.searchParams)==null?void 0:o.get("id"),g=JSON.parse(localStorage.getItem("userdata")),await m()});async function m(){try{const e=await fetch(c+"/blog/id/"+p);e.ok?(h(r,await e.json(),!0),await J()):console.log("not found")}catch{}}async function J(){try{(await fetch(c+`/blog/isliked?blogId=${p}&email=${g.email}&token=${$("token")}`)).ok?(h(d,!0),console.log("liked: "+s(d))):h(d,!1)}catch{}}async function M(){if(s(d))try{(await fetch(c+`/blog/dislike?blogId=${p}&email=${g.email}&token=${$("token")}`,{method:"POST",headers:{Accept:"text/plain","Content-Type":"application/json"}})).ok?m():console.log("not found")}catch{}else try{(await fetch(c+`/blog/like?blogId=${p}&email=${g.email}&token=${$("token")}`,{method:"POST",headers:{Accept:"text/plain","Content-Type":"application/json"}})).ok?m():console.log("not found")}catch{}}var u=ve(),I=a(u),f=a(I),x=a(f),R=a(x,!0);t(x);var L=i(x,2),b=a(L),j=i(a(b)),q=a(j,!0);t(j),t(b);var v=i(b,2);v.__click=M;var A=i(a(v)),z=a(A,!0);t(A),t(v),t(L),t(f);var k=i(f,2),F=a(k,!0);t(k);var C=i(k,2);{var G=e=>{var o=ge();ee(o,21,()=>s(r).tags,te,(Q,V)=>{var _=ce(),W=a(_);t(_),U(()=>l(W,`#${s(V)??""}`)),w(Q,_)}),t(o),w(e,o)};Z(C,e=>{var o;(o=s(r).tags)!=null&&o.length&&e(G)})}var T=i(C,2),y=i(a(T)),H=a(y,!0);t(y);var O=i(y,2),K=a(O,!0);t(O),t(T),t(I),t(u),U(e=>{l(R,s(r).title),l(q,s(r).views),se(v,1,`cursor-pointer flex items-center gap-1 text-red-600 dark:text-red-400 px-2 py-1 rounded-full hover:scale-110 transition ${s(d)?"bg-red-900":"bg-gray-900"}`),l(z,s(r).likes),l(F,s(r).content),l(H,s(r).userName),l(K,e)},[()=>new Date(s(r).postDate).toLocaleString()]),w(n,u),Y(),N()}ae(["click"]);export{Se as component};
