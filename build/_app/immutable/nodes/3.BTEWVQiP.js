import"../chunks/CWj6FrbW.js";import{p as D,l as m,m as M,s as i,c as d,i as t,a as W,n as e,r as l,t as O}from"../chunks/CLiDDy4G.js";import{s as R}from"../chunks/-N9LEa1Z.js";import{i as q}from"../chunks/Bk_3i-m3.js";import{e as F,i as G}from"../chunks/sSac2j2s.js";import{d as H,t as T,a as P}from"../chunks/BfUvHYsx.js";import{r as U,a as K}from"../chunks/BT4TTku9.js";import{s as Q}from"../chunks/DVgWZJ-R.js";import{b as C}from"../chunks/BUMZJLbK.js";import{o as V}from"../chunks/BRficqL3.js";import{g as X,c as Y,a as Z}from"../chunks/BkuGP4LS.js";import{P as tt}from"../chunks/DXucOirp.js";function et(g,a,o){if(g.key==="Enter"&&t(a).trim()){g.preventDefault();const s=t(a).trim();t(o).includes(s)||e(o,[...t(o),s],!0),e(a,"")}}async function rt(g,a,o,s,p,b,c){if(t(a)===null||t(o)===null||t(a)===""||t(o)===""){e(s,"Enter Content and Title"),e(p,"error");return}try{let u=JSON.parse(localStorage.getItem("userdata"));console.log(u.email),(await fetch(b+"/blog/post?token="+X("token"),{method:"POST",headers:{Accept:"text/plain","Content-Type":"application/json"},body:JSON.stringify({title:`${t(a)}`,content:`${t(o)}`,email:`${u.email}`,tags:t(c)})})).ok?(e(p,"ok"),e(s,"Posted!"),e(o,""),e(a,""),e(c,[],!0)):(e(p,"error"),e(s,"Not authorized!"))}catch{}}var at=(g,a,o)=>a(t(o)),ot=T('<div class="flex items-center bg-gray-200 dark:bg-gray-900 text-gray-800 dark:text-gray-100 px-3 py-1 rounded-full text-sm"><span> </span> <button type="button" class="ml-2 text-gray-500 hover:text-red-500 dark:hover:text-red-400">&times;</button></div>'),st=T("<p> </p>"),it=T('<div class="min-h-screen flex items-center justify-center bg-gray-100 dark:bg-gray-950 px-4 py-12"><div class="w-full max-w-2xl bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-6"><h1 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Create New Post</h1> <div class="mb-4"><p class="block text-gray-700 dark:text-gray-300 font-medium mb-1">Title</p> <input type="text" placeholder="Post title" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"></div> <div class="mb-4"><p class="block text-gray-700 dark:text-gray-300 font-medium mb-1">Content</p> <textarea placeholder="Write your post content..." rows="6" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"></textarea></div> <div class="mb-6"><p class="block text-gray-700 dark:text-gray-300 font-medium mb-1">Tags</p> <input type="text" placeholder="Press Enter to add a tag" class="w-full px-4 py-2 rounded-lg border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-900 text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"> <div class="flex flex-wrap gap-2 mt-2"></div></div> <div class="flex items-center justify-between mt-4"><button class="bg-blue-600 hover:bg-blue-700 text-white font-semibold px-6 py-2 rounded-lg transition">Post</button> <!></div></div></div>');function yt(g,a){D(a,!0);let o=tt,s=m(""),p=m(""),b=m(""),c=m(M([])),u=m(""),x=m("");function B(r){e(c,t(c).filter(n=>n!==r),!0)}V(async()=>{await Y(),await Z()});var y=it(),S=d(y),k=i(d(S),2),E=i(d(k),2);U(E),l(k);var _=i(k,2),N=i(d(_),2);K(N),l(_);var h=i(_,2),v=i(d(h),2);U(v),v.__keydown=[et,b,c];var $=i(v,2);F($,21,()=>t(c),G,(r,n)=>{var f=ot(),w=d(f),L=d(w,!0);l(w);var z=i(w,2);z.__click=[at,B,n],l(f),O(()=>R(L,t(n))),P(r,f)}),l($),l(h);var j=i(h,2),A=d(j);A.__click=[rt,s,p,u,x,o,c];var I=i(A,2);{var J=r=>{var n=st(),f=d(n,!0);l(n),O(()=>{Q(n,1,`text-sm ml-4 ${t(x)==="error"?"text-red-500":"text-green-500"}`),R(f,t(u))}),P(r,n)};q(I,r=>{t(u)&&r(J)})}l(j),l(S),l(y),C(E,()=>t(s),r=>e(s,r)),C(N,()=>t(p),r=>e(p,r)),C(v,()=>t(b),r=>e(b,r)),P(g,y),W()}H(["keydown","click"]);export{yt as component};
